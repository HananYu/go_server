<!doctype html>
<html lang="zh">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Hanan_Yu.Liu</title>
    <link rel="shortcut icon" type="image/x-icon" href="/statics/images/icon.png"/>
    <meta name="description" content=""/>
    <meta name="keywords" content=""/>
    <link rel="stylesheet" type="text/css" href="/statics/css/index.css" media="all"/>
</head>

<body class="home blog custom-background round-avatars">
<div class="Yarn_Background" style="background-image: url(/statics/images/bg.png);"></div>
<form class="js-search search-form search-form--modal" method="get" action="search" role="search">
    <div class="search-form__inner">
        <div>
            <div id="search-container" class="ajax_search">
                <form method="get" id="searchform" action="">
                    <div class="filter_container"><input type="text" value="" autocomplete="off"
                                                         placeholder="请输入" name="s" id="search-input"/>
                        <ul id="search_filtered" class="search_filtered"></ul>
                    </div>
                    <input type="submit" name="submit" id="searchsubmit" class="searchsubmit" value=""/>
                </form>
            </div>
        </div>
    </div>
</form>
<div class="navi" data-aos="fade-down">
    <div class="bt-nav">
        <div class="line line1"></div>
        <div class="line line2"></div>
        <div class="line line3"></div>
    </div>
    <div class="navbar animated fadeInRight">
        <div class="inner">
            <nav id="site-navigation" class="main-navigation">
                <div id="main-menu" class="main-menu-container">
                    <div class="menu-menu-container">
                        <ul id="primary-menu" class="menu">
                            <li id="menu-item-17"
                                class="menu-item menu-item-type-post_type menu-item-object-page menu-item-17">
                                <a href="index">首页</a>
                            </li>
                            <li id="menu-item-173"
                                class="menu-item menu-item-type-post_type menu-item-object-page menu-item-173">
                                <a href="javascript:void(0);">更新</a>
                            </li>
                            <li id="menu-item-78"
                                class="menu-item menu-item-type-post_type menu-item-object-page menu-item-78">
                                <a href="link">链接</a>
                            </li>
                            <!--有子菜单<li id="menu-item-252" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-252">-->
                            <li id="menu-item-252"
                                class="menu-item menu-item-type-post_type menu-item-object-page menu-item-252">
                                <a href="archives">归档</a>
                                {{/*									<ul class="sub-menu">*/}}
                                {{/*										<li id="menu-item-165"*/}}
                                {{/*											class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-165">*/}}
                                {{/*											<a href="javascript:void(0);">theme</a>*/}}
                                {{/*										</li>*/}}
                                {{/*										<li id="menu-item-163"*/}}
                                {{/*											class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-163">*/}}
                                {{/*											<a href="javascript:void(0);">Happen</a>*/}}
                                {{/*										</li>*/}}
                                {{/*										<li id="menu-item-924"*/}}
                                {{/*											class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-924">*/}}
                                {{/*											<a href="javascript:void(0);">WeWork</a>*/}}
                                {{/*										</li>*/}}
                                {{/*										<li id="menu-item-164"*/}}
                                {{/*											class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-164">*/}}
                                {{/*											<a href="javascript:void(0);">WordPress</a>*/}}
                                {{/*										</li>*/}}
                                {{/*									</ul>*/}}
                            </li>
                            <li id="menu-item-57"
                                class="menu-item menu-item-type-post_type menu-item-object-page menu-item-57">
                                <a href="gustbook">留言</a>
                            </li>
                            <li id="menu-item-57"
                                class="menu-item menu-item-type-post_type menu-item-object-page menu-item-57">
                                <a href="article">撰写</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <!-- #site-navigation -->
        </div>
    </div>
</div>
<div class="hebin" data-aos="fade-down">
    <i class=" js-toggle-search iconfont">&#xe60e;</i>
</div>
<header id="masthead" class="overlay animated from-bottom" itemprop="brand">
    <div class="site-branding text-center">
        <a href="index">
            <figure>
                <img class="custom-logo avatar" src="/statics/images/omikron1.png"/>
            </figure>
        </a>
        <h3 class="blog-description">
            <p>Hanan_Yu.Liu</p>
        </h3>
    </div>
    <!-- .site-branding -->
    <div class="decor-part">
        <div id="particles-js"></div>
    </div>
    <div class="animation-header">
        <div class="decor-wrapper">
            <svg id="header-decor" class="decor bottom" xmlns="http://www.w3.org/2000/svg" version="1.1"
                 viewBox="0 0 100 100" preserveAspectRatio="none">
                <path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path>
                <path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path>
                <path class="medium left" d="M0 100 L50 50 L0 33.3" fill="rgba(255,255,255, .3)"></path>
                <path class="medium right" d="M100 100 L50 50 L100 33.3" fill="rgba(255,255,255, .3)"></path>
                <path class="small left" d="M0 100 L50 50 L0 66.6" fill="rgba(255,255,255, .5)"></path>
                <path class="small right" d="M100 100 L50 50 L100 66.6" fill="rgba(255,255,255, .5)"></path>
                <path d="M0 99.9 L50 49.9 L100 99.9 L0 99.9" fill="rgba(255,255,255, 1)"></path>
                <path d="M48 52 L50 49 L52 52 L48 52" fill="rgba(255,255,255, 1)"></path>
            </svg>
        </div>
    </div>
</header>

<a href="#top" title="返回顶部"><div id="myBtn" onfocus="getColor()"></div></a>
<div id="main" class="content">
    <div class="container">
        <article itemscope="itemscope">
            <div class="posts-list js-posts" id="content">
                <!--内容开始-->
                <!--内容结束-->
            </div>
    </div>
</div>

<footer id="footer" class="overlay animated from-top">
    <div class="decor-wrapper">
        <svg id="footer-decor" class="decor top" xmlns="http://www.w3.org/2000/svg" version="1.1"
             viewBox="0 0 100 100" preserveAspectRatio="none">
            <path class="large left" d="M0 0 L50 50 L0 100" fill="rgba(255,255,255, .1)"></path>
            <path class="large right" d="M100 0 L50 50 L100 100" fill="rgba(255,255,255, .1)"></path>
            <path class="medium left" d="M0 0 L50 50 L0 66.6" fill="rgba(255,255,255, .3)"></path>
            <path class="medium right" d="M100 0 L50 50 L100 66.6" fill="rgba(255,255,255, .3)"></path>
            <path class="small left" d="M0 0 L50 50 L0 33.3" fill="rgba(255,255,255, .5)"></path>
            <path class="small right" d="M100 0 L50 50 L100 33.3" fill="rgba(255,255,255, .5)"></path>
            <path d="M0 0 L50 50 L100 0 L0 0" fill="rgba(255,255,255, 1)"></path>
            <path d="M48 48 L50 51 L52 48 L48 48" fill="rgba(255,255,255, 1)"></path>
        </svg>
    </div>
    <!-- <div class="socialize" data-aos="zoom-in">
            <li>
                <a title="weibo" class="socialicon" href=""><i class="iconfont" aria-hidden="true">&#xe601;</i></a>
            </li>
            <li class="wechat">
                <a class="socialicon"><i class="iconfont">&#xe609;</i></a>
                <div class="wechatimg"><img src="statics/images/49D3746D-7519-B709-83E4-65BD1927C4E7.jpg"></div>
            </li>
            <li>
                <a title="QQ" class="socialicon" href="" target="_blank"><i class="iconfont" aria-hidden="true">&#xe616;</i></a>
            </li>
        </div> -->
    <div class="cr">
        &copy;2020. Design by <a href="">Hanan_Yu.Liu</a>
    </div>
    <script type='text/javascript' src='/statics/js/jquery.min.js'></script>
    <script type='text/javascript' src='/statics/js/plugins.js'></script>
    <script type='text/javascript' src='/statics/js/script.js'></script>
    <script type='text/javascript' src='/statics/js/particles.js'></script>
    <script type='text/javascript' src='/statics/js/aos.js'></script>
    <script type="text/javascript" src="/statics/js/config.js"></script>
    <script type="text/javascript">
        //设置默认值
        let currentPage = 1;
        let pageSize = 5;
        let time = 0;//设置默认的时间

        //设置下拉刷新
        $(function () {
            // $("#content").empty();//清空DIV的内容
            getlist(currentPage, pageSize);
            $(window).scroll(function () {
                if (getNumCode() === 0) {
                    // console.log("滚动条距离页面顶端位置" + $(window).scrollTop());
                    // console.log("当前可见窗口的高度" + $(window).height()); //当前可见窗口的高度
                    // console.log("整个页面的总高度" + $(document).height()); //整个页面的总高度
                    //添加100高度以防屏幕分辨率较低显示器出现页面误差导致不能翻页
                    if ($(window).scrollTop() + $(window).height() + 100 >= $(document).height()) {
                        resetNumCode();
                        currentPage++;
                        if (getlist(currentPage, pageSize)) {
                            currentPage--;
                        }
                    }
                }
            })

            // $("#search-input").change(function () {
            // 	console.log("-----"+$(this).val())
            // })
        })


        function getlist(currentPage, pageSize) {
            let data = {};
            let flag = false;
            //设置默认的页面请求参数，并设置全局参数，为翻页数据提供支持
            data.currentPage = currentPage;
            data.pageSize = pageSize;
            $.ajax({
                url: url.baseUrl + "api/article/get",
                type: 'post',
                contentType: 'application/json;charset=utf-8',
                dateType: 'json',
                async: false,
                data: JSON.stringify(data),
                success: function (data) {
                    if (data.code === 200) {
                        // let list=new Array()
                        let list = data.data;
                        if (list === '' || list == null || list.length === 0) {
                            flag = true;
                        } else {
                            let strHtml = "";//页面数据
                            for (let res of list) {
                                // let res = list[i]
                                if (res.type === 0) {
                                    //表示散文
                                    strHtml += '<div class="post post-layout-list" data-aos="fade-up"><div class="status_list_item icon_kyubo">' +
                                        '<div class="status_user" style="background-image: url(' + res.img + ');">' +
                                        '<div class="status_section"><a href="detail?id=' + res.id + '" class="status_btn">[ ' + res.label + ' ]  ' + res.title + '</a>' +
                                        '<p class="section_p">' + res.smallContent + '</p>'+
                                        '</div></div></div></div>';
                                } else if (res.type === 1) {
                                    //表示日记
                                    strHtml += '<div class="post post-layout-list" data-aos="fade-up"><div class="postnormal review "><div class="post-container review-item">' +
                                        '<div class="row review-item-wrapper"><div class="col-sm-3"><a rel="nofollow" href="detail?id=' + res.id + '" >' +
                                        '<div class="review-item-img" style="background-image: url(' + res.img + ');"></div></a></div>' +
                                        '<div class="col-sm-9 flex-xs-middle"><div class="review-item-title"><a href="detail?id=' + res.id + '" rel="bookmark">[ ' + res.label + ' ]  ' + res.title + '</a></div>' +
                                        '<div class="review-item-creator"><b>发布日期：</b>' + formatTime(res.createDate) + '</div><span class="review-item-info"><b>总浏览量：</b>' + res.readNum + ' 阅读</span></div></div>' +
                                        '<div class="review-bg-wrapper"><div class="bg-blur" style="background-image: url(' + res.img + ');"></div></div></div>' +
                                        '<div class="post-container"><div class="entry-content">' + res.smallContent + '</div><div class="post-footer">' +
                                        '<a class="gaz-btn primary" href="detail?id=' + res.id + '">READ MORE</a>'+
                                        '</div></div></div></div>';
                                }else {
                                	//表示其它
                                	var img = res.img;
                                	if (img.indexOf(",") == -1) {
                                		//只含有一张图片
                                		strHtml += '<div class="post post-layout-list js-gallery" data-aos="fade-up"><div class="post-album"><div class="row content"><div class="bg"' +
                                			'style="background-image: url(' + img + ');"></div><div class="contentext flex-xs-middle"><div class="album-title"><a href="detail.html?id=' + res.id + '" >[ ' + res.label + ' ]  ' + res.title + '</a></div>' +
                                			'<h5 class="review-item-creator"><b>发布日期：</b>' + formatTime(res.createDate) + '</h5><div class="album-content">' + res.smallContent + '</div></div>' +
                                			'<div class="album-thumb-width flex-xs-middle"><div class="row album-thumb no-gutter">' +
                                			'<div class="col-xs-4"><img class="thumb" src="' + img + '" /></div>' +
                                			'<div class="col-xs-4"><a href="">1 pics</a></div></div></div></div></div></div>';
                                	} else {
                                		//表示有多张图片
                                		var imgList = img.substring(0, img.length - 1).split(",");
                                		strHtml += '<div class="post post-layout-list js-gallery" data-aos="fade-up"><div class="post-album"><div class="row content"><div class="bg"' +
                                			'style="background-image: url(' + imgList[0] + ');"></div><div class="contentext flex-xs-middle"><div class="album-title"><a href="detail.html?id=' + res.id + '" >[ ' + res.label + ' ]  ' + res.title + '</a></div>' +
                                			'<h5 class="review-item-creator"><b>发布日期：</b>' + formatTime(res.createDate) + '</h5><div class="album-content">' + res.smallContent + '</div></div>' +
                                			'<div class="album-thumb-width flex-xs-middle"><div class="row album-thumb no-gutter">';
                                		for (let value of imgList) {
                                			strHtml += '<div class="col-xs-4"><img class="thumb" src="' + value + '" /></div>';
                                		}
                                		strHtml += '<div class="col-xs-4"><a href="">' + imgList.length + ' pics</a></div></div></div></div></div></div>';
                                	}
                                }
                            }
                            $("#content").append(strHtml);
                        }
                    } else {
                        alert(data.msg);
                        flag = true;
                    }
                },
                error: function (e) {
                    // currentPage--;
                    // $(document).unbind('mousewheel');
                    flag = true;
                }
            })
            // console.log('最新的页面' + currentPage);
            return flag;
        }


        //判断时间倒计时是否完成
        function getNumCode() {
            return time;
        }

        //倒计时
        function resetNumCode() {
            // console.log('time2------' + time)
            if (time === 2) {
                time = 0;
                return
            }
            time++;
            setTimeout(function () {
                resetNumCode();
            }, 1000);
        }
    </script>
</body>

</html>